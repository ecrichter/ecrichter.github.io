WiFi Fingerprinting
================

-   [Introduction](#introduction)
-   [Importing the data](#importing-the-data)
-   [Preprocessing](#preprocessing)
-   [Modeling](#modeling)

Introduction
============

Many real world applications rely on a user's location to provide optimal service. Thanks to the inclusion of GPS sensors in mobile devices, outdoor localization can be pinpointed very accurately. However, indoor localization remains a problem due to the loss of GPS signal in indoor environments. Wi-Fi positioning system is a geolocation system that uses the characteristics of nearby Wi-Fi hotspots and other wireless access points to discover where a device is located.

This analysis uses the [UJIIndoorLoc Data Set](http://archive.ics.uci.edu/ml/datasets/UJIIndoorLoc) to develop models capable of reliably locating the position of a user's device using signals from wireless access point (WAPs). The data set contains 520 WAPs as well as user data such as longitude, latitude, user ID, phone ID, and building-specific location values. After initial pre-processing I combined the dependent variables into one value, and then proceeded to modeling with encouraging results.

``` r
library(caret)
library(dplyr)
library(tidyr)
```

Importing the data
==================

``` r
## Download, unzip, and import the data
temp <- tempfile()
download.file("http://archive.ics.uci.edu/ml/machine-learning-databases/00310/UJIndoorLoc.zip",temp)
training <- read.csv(unz(temp, "UJIndoorLoc/trainingData.csv"))
validation <- read.csv(unz(temp, "UJIndoorLoc/validationData.csv"))
unlink(temp)
```

Preprocessing
=============

According to the dataset description there are 529 attributes. The first step is to identify which of these features are not necessary. I will use the nearZeroVar function in the caret package to accomplish this, and eliminate redundant attributes.

``` r
## Create a working copy of the data 
workData<-training

## Remove zero variance features
zeroVarData <- nearZeroVar(training, saveMetrics = TRUE)
zeroVarData1 <- which(zeroVarData$zeroVar == T)

## Rewrite working copy
workData <- training[,-(zeroVarData1)]
```

Most of the attributes are WiFi fingerprints listed as integer values. The final 9 attributes contain other useful attributes including our dependent variables.

``` r
str(workData[,466:474])
```

    ## 'data.frame':    19937 obs. of  9 variables:
    ##  $ LONGITUDE       : num  -7541 -7537 -7519 -7525 -7632 ...
    ##  $ LATITUDE        : num  4864921 4864934 4864950 4864934 4864982 ...
    ##  $ FLOOR           : int  2 2 2 2 0 2 2 2 2 2 ...
    ##  $ BUILDINGID      : int  1 1 1 1 0 1 1 1 1 1 ...
    ##  $ SPACEID         : int  106 106 103 102 122 105 103 101 112 103 ...
    ##  $ RELATIVEPOSITION: int  2 2 2 2 2 2 2 2 2 1 ...
    ##  $ USERID          : int  2 2 2 2 11 2 2 2 2 2 ...
    ##  $ PHONEID         : int  23 23 23 23 13 23 23 23 23 23 ...
    ##  $ TIMESTAMP       : int  1371713733 1371713691 1371714095 1371713807 1369909710 1371713841 1371713883 1371713775 1371714307 1371714128 ...

Some of these attributes are not needed for this evaluation. Others need to be converted to factors.

``` r
## Set datatypes
workData$FLOOR<-as.factor(workData$FLOOR)
workData$BUILDINGID<-as.factor(workData$BUILDINGID)
workData$SPACEID<-as.factor(workData$SPACEID)
workData$RELATIVEPOSITION<-as.factor(workData$RELATIVEPOSITION)

## Remove uneeded features
workData$USERID<-NULL
workData$PHONEID<-NULL
workData$TIMESTAMP<-NULL
```

Because there are more than one attributes related to location in the dataset, there is a need to combine them into one depednent variable.

``` r
## Combine dependent variables
uniteData <- workData %>% unite("LOCATION", "BUILDINGID", "FLOOR", "SPACEID", remove = TRUE)
uniteData$RELATIVEPOSITION<-NULL
```

Modeling
========

Three models were created and run on the dataset: native bayes, k nearest neighbor, and random forest. The CARET package is extremely useful for training and testing these models.

``` r
## Split data into training and test sets and generate resampling procedure using 10-fold cross validation
set.seed(23)
inTraining <- createDataPartition(uniteData$LOCATION, p=.75, list = FALSE)
training <- uniteData[inTraining, ]
testing <- uniteData[-inTraining, ]
fitControl <- trainControl(method="repeatedcv", number = 10, repeats = 1)
```

``` r
## Train the models
knnFitr1 <- train(LOCATION~., data = training, method = "kknn", trControl=fitControl)
knnFitr1
```

    ## k-Nearest Neighbors 
    ## 
    ## 15138 samples
    ##   467 predictor
    ##   735 classes: '0_0_102', '0_0_106', '0_0_107', '0_0_110', '0_0_111', '0_0_112', '0_0_113', '0_0_114', '0_0_115', '0_0_116', '0_0_117', '0_0_118', '0_0_119', '0_0_120', '0_0_121', '0_0_122', '0_0_123', '0_0_125', '0_0_126', '0_0_127', '0_0_128', '0_0_129', '0_0_130', '0_0_131', '0_0_132', '0_0_133', '0_0_134', '0_0_201', '0_0_202', '0_0_208', '0_0_209', '0_0_211', '0_0_212', '0_0_213', '0_0_214', '0_0_215', '0_0_216', '0_0_218', '0_0_219', '0_0_220', '0_0_222', '0_0_224', '0_0_225', '0_0_226', '0_0_227', '0_0_229', '0_0_230', '0_0_231', '0_0_232', '0_0_233', '0_0_234', '0_0_235', '0_0_236', '0_0_237', '0_1_101', '0_1_102', '0_1_103', '0_1_104', '0_1_105', '0_1_106', '0_1_107', '0_1_108', '0_1_109', '0_1_110', '0_1_111', '0_1_112', '0_1_113', '0_1_114', '0_1_115', '0_1_116', '0_1_117', '0_1_118', '0_1_119', '0_1_120', '0_1_121', '0_1_122', '0_1_123', '0_1_124', '0_1_125', '0_1_126', '0_1_127', '0_1_128', '0_1_129', '0_1_130', '0_1_136', '0_1_137', '0_1_138', '0_1_201', '0_1_202', '0_1_203', '0_1_204', '0_1_205', '0_1_206', '0_1_207', '0_1_208', '0_1_209', '0_1_210', '0_1_211', '0_1_212', '0_1_213', '0_1_214', '0_1_215', '0_1_216', '0_1_217', '0_1_218', '0_1_219', '0_1_220', '0_1_221', '0_1_222', '0_1_223', '0_1_224', '0_1_225', '0_1_226', '0_1_227', '0_1_228', '0_1_229', '0_1_230', '0_1_233', '0_1_234', '0_1_235', '0_2_101', '0_2_102', '0_2_103', '0_2_104', '0_2_105', '0_2_106', '0_2_107', '0_2_108', '0_2_109', '0_2_110', '0_2_111', '0_2_112', '0_2_113', '0_2_114', '0_2_115', '0_2_117', '0_2_118', '0_2_119', '0_2_120', '0_2_121', '0_2_122', '0_2_123', '0_2_124', '0_2_125', '0_2_126', '0_2_127', '0_2_128', '0_2_129', '0_2_130', '0_2_132', '0_2_133', '0_2_134', '0_2_138', '0_2_139', '0_2_140', '0_2_201', '0_2_202', '0_2_203', '0_2_204', '0_2_205', '0_2_206', '0_2_207', '0_2_208', '0_2_209', '0_2_210', '0_2_211', '0_2_212', '0_2_213', '0_2_214', '0_2_216', '0_2_217', '0_2_218', '0_2_219', '0_2_220', '0_2_221', '0_2_222', '0_2_223', '0_2_224', '0_2_225', '0_2_226', '0_2_227', '0_2_228', '0_2_229', '0_2_230', '0_2_231', '0_2_234', '0_2_235', '0_2_241', '0_3_101', '0_3_102', '0_3_103', '0_3_104', '0_3_105', '0_3_106', '0_3_107', '0_3_108', '0_3_109', '0_3_110', '0_3_111', '0_3_112', '0_3_113', '0_3_114', '0_3_115', '0_3_116', '0_3_117', '0_3_118', '0_3_119', '0_3_120', '0_3_121', '0_3_122', '0_3_123', '0_3_124', '0_3_125', '0_3_126', '0_3_127', '0_3_128', '0_3_129', '0_3_130', '0_3_131', '0_3_135', '0_3_136', '0_3_137', '0_3_201', '0_3_202', '0_3_203', '0_3_204', '0_3_205', '0_3_206', '0_3_207', '0_3_208', '0_3_209', '0_3_210', '0_3_211', '0_3_212', '0_3_213', '0_3_214', '0_3_215', '0_3_216', '0_3_217', '0_3_218', '0_3_219', '0_3_220', '0_3_221', '0_3_222', '0_3_223', '0_3_224', '0_3_225', '0_3_226', '0_3_227', '0_3_228', '0_3_229', '0_3_230', '0_3_231', '0_3_234', '0_3_235', '0_3_236', '1_0_1', '1_0_10', '1_0_107', '1_0_108', '1_0_110', '1_0_111', '1_0_112', '1_0_113', '1_0_114', '1_0_115', '1_0_116', '1_0_117', '1_0_118', '1_0_119', '1_0_121', '1_0_122', '1_0_15', '1_0_16', '1_0_202', '1_0_203', '1_0_213', '1_0_216', '1_0_217', '1_0_218', '1_0_219', '1_0_220', '1_0_222', '1_0_224', '1_0_225', '1_0_226', '1_0_227', '1_0_228', '1_0_229', '1_0_230', '1_0_231', '1_0_235', '1_0_237', '1_0_238', '1_0_239', '1_0_243', '1_0_244', '1_0_245', '1_0_246', '1_0_247', '1_0_248', '1_0_249', '1_0_3', '1_0_6', '1_0_9', '1_1_101', '1_1_102', '1_1_103', '1_1_104', '1_1_105', '1_1_106', '1_1_107', '1_1_108', '1_1_109', '1_1_110', '1_1_111', '1_1_117', '1_1_12', '1_1_13', '1_1_16', '1_1_17', '1_1_2', '1_1_201', '1_1_202', '1_1_203', '1_1_204', '1_1_205', '1_1_206', '1_1_207', '1_1_208', '1_1_209', '1_1_210', '1_1_215', '1_1_25', '1_1_26', '1_1_27', '1_1_3', '1_1_30', '1_1_4', '1_1_5', '1_1_6', '1_1_7', '1_1_8', '1_2_10', '1_2_101', '1_2_102', '1_2_103', '1_2_104', '1_2_105', '1_2_106', '1_2_107', '1_2_108', '1_2_109', '1_2_110', '1_2_111', '1_2_112', '1_2_117', '1_2_15', '1_2_16', '1_2_17', '1_2_18', '1_2_2', '1_2_201', '1_2_202', '1_2_203', '1_2_204', '1_2_205', '1_2_206', '1_2_207', '1_2_208', '1_2_209', '1_2_210', '1_2_211', '1_2_212', '1_2_216', '1_2_217', '1_2_22', '1_2_26', '1_2_27', '1_2_28', '1_2_29', '1_2_3', '1_2_4', '1_2_5', '1_2_6', '1_2_7', '1_2_8', '1_2_9', '1_3_1', '1_3_101', '1_3_102', '1_3_103', '1_3_104', '1_3_105', '1_3_106', '1_3_107', '1_3_108', '1_3_11', '1_3_112', '1_3_113', '1_3_116', '1_3_12', '1_3_13', '1_3_14', '1_3_2', '1_3_201', '1_3_202', '1_3_203', '1_3_204', '1_3_205', '1_3_206', '1_3_214', '1_3_216', '1_3_217', '1_3_3', '1_3_4', '1_3_5', '1_3_6', '2_0_101', '2_0_103', '2_0_104', '2_0_106', '2_0_107', '2_0_108', '2_0_110', '2_0_111', '2_0_112', '2_0_113', '2_0_117', '2_0_118', '2_0_119', '2_0_120', '2_0_121', '2_0_122', '2_0_124', '2_0_125', '2_0_126', '2_0_127', '2_0_128', '2_0_129', '2_0_130', '2_0_132', '2_0_133', '2_0_134', '2_0_135', '2_0_136', '2_0_137', '2_0_138', '2_0_139', '2_0_140', '2_0_201', '2_0_202', '2_0_203', '2_0_204', '2_0_205', '2_0_206', '2_0_207', '2_0_208', '2_0_209', '2_0_211', '2_0_214', '2_0_215', '2_1_101', '2_1_102', '2_1_103', '2_1_104', '2_1_105', '2_1_106', '2_1_107', '2_1_108', '2_1_109', '2_1_110', '2_1_111', '2_1_112', '2_1_113', '2_1_114', '2_1_115', '2_1_116', '2_1_117', '2_1_118', '2_1_119', '2_1_120', '2_1_121', '2_1_122', '2_1_123', '2_1_124', '2_1_125', '2_1_126', '2_1_127', '2_1_128', '2_1_129', '2_1_130', '2_1_131', '2_1_132', '2_1_133', '2_1_134', '2_1_135', '2_1_136', '2_1_137', '2_1_140', '2_1_141', '2_1_143', '2_1_201', '2_1_202', '2_1_203', '2_1_204', '2_1_205', '2_1_206', '2_1_207', '2_1_209', '2_1_212', '2_1_214', '2_1_215', '2_1_216', '2_1_217', '2_1_218', '2_1_219', '2_1_220', '2_1_221', '2_1_223', '2_1_224', '2_1_225', '2_2_101', '2_2_102', '2_2_103', '2_2_104', '2_2_105', '2_2_106', '2_2_107', '2_2_108', '2_2_109', '2_2_110', '2_2_111', '2_2_112', '2_2_113', '2_2_114', '2_2_115', '2_2_116', '2_2_117', '2_2_118', '2_2_119', '2_2_120', '2_2_121', '2_2_122', '2_2_123', '2_2_124', '2_2_125', '2_2_126', '2_2_127', '2_2_128', '2_2_129', '2_2_130', '2_2_131', '2_2_132', '2_2_133', '2_2_134', '2_2_135', '2_2_136', '2_2_137', '2_2_138', '2_2_139', '2_2_140', '2_2_143', '2_2_144', '2_2_201', '2_2_202', '2_2_203', '2_2_204', '2_2_205', '2_2_206', '2_2_207', '2_2_208', '2_2_209', '2_2_210', '2_2_211', '2_2_213', '2_2_214', '2_2_217', '2_2_220', '2_3_101', '2_3_102', '2_3_103', '2_3_104', '2_3_105', '2_3_106', '2_3_107', '2_3_108', '2_3_109', '2_3_110', '2_3_111', '2_3_112', '2_3_113', '2_3_114', '2_3_115', '2_3_116', '2_3_117', '2_3_118', '2_3_119', '2_3_120', '2_3_121', '2_3_122', '2_3_123', '2_3_124', '2_3_125', '2_3_126', '2_3_127', '2_3_128', '2_3_129', '2_3_130', '2_3_131', '2_3_132', '2_3_133', '2_3_134', '2_3_135', '2_3_136', '2_3_137', '2_3_140', '2_3_141', '2_3_143', '2_3_201', '2_3_202', '2_3_203', '2_3_204', '2_3_205', '2_3_206', '2_3_207', '2_3_208', '2_3_209', '2_3_210', '2_3_211', '2_3_212', '2_3_213', '2_3_214', '2_3_215', '2_3_216', '2_3_217', '2_3_218', '2_3_219', '2_3_220', '2_3_221', '2_3_222', '2_3_223', '2_3_224', '2_3_225', '2_3_226', '2_3_227', '2_3_228', '2_3_229', '2_3_230', '2_3_231', '2_3_232', '2_3_233', '2_3_234', '2_3_235', '2_3_236', '2_3_237', '2_3_238', '2_3_239', '2_3_240', '2_3_241', '2_3_242', '2_3_243', '2_3_244', '2_3_245', '2_3_246', '2_3_247', '2_3_248', '2_3_250', '2_3_253', '2_3_254', '2_4_101', '2_4_102', '2_4_103', '2_4_104', '2_4_105', '2_4_106', '2_4_107', '2_4_108', '2_4_109', '2_4_110', '2_4_111', '2_4_112', '2_4_113', '2_4_114', '2_4_115', '2_4_116', '2_4_117', '2_4_118', '2_4_119', '2_4_120', '2_4_121', '2_4_122', '2_4_123', '2_4_124', '2_4_125', '2_4_126', '2_4_127', '2_4_128', '2_4_129', '2_4_130', '2_4_131', '2_4_132', '2_4_133', '2_4_134', '2_4_135', '2_4_136', '2_4_137', '2_4_138', '2_4_139', '2_4_140', '2_4_141', '2_4_142', '2_4_143', '2_4_146', '2_4_147', '2_4_201', '2_4_202', '2_4_203', '2_4_204', '2_4_205', '2_4_206', '2_4_207', '2_4_208', '2_4_209', '2_4_210', '2_4_211', '2_4_212', '2_4_213', '2_4_214', '2_4_215', '2_4_216', '2_4_217', '2_4_218', '2_4_219', '2_4_220' 
    ## 
    ## No pre-processing
    ## Resampling: Cross-Validated (10 fold, repeated 1 times) 
    ## Summary of sample sizes: 13628, 13614, 13643, 13618, 13612, 13617, ... 
    ## Resampling results across tuning parameters:
    ## 
    ##   kmax  Accuracy   Kappa  
    ##   5     0.6922495  0.69167
    ##   7     0.6922495  0.69167
    ##   9     0.6922495  0.69167
    ## 
    ## Tuning parameter 'distance' was held constant at a value of 2
    ## 
    ## Tuning parameter 'kernel' was held constant at a value of optimal
    ## Accuracy was used to select the optimal model using the largest value.
    ## The final values used for the model were kmax = 9, distance = 2 and
    ##  kernel = optimal.

``` r
nbFit1 <- train(LOCATION~., data = training, method = "naive_bayes", trControl=fitControl)
nbFit1
```

    ## Naive Bayes 
    ## 
    ## 15138 samples
    ##   467 predictor
    ##   735 classes: '0_0_102', '0_0_106', '0_0_107', '0_0_110', '0_0_111', '0_0_112', '0_0_113', '0_0_114', '0_0_115', '0_0_116', '0_0_117', '0_0_118', '0_0_119', '0_0_120', '0_0_121', '0_0_122', '0_0_123', '0_0_125', '0_0_126', '0_0_127', '0_0_128', '0_0_129', '0_0_130', '0_0_131', '0_0_132', '0_0_133', '0_0_134', '0_0_201', '0_0_202', '0_0_208', '0_0_209', '0_0_211', '0_0_212', '0_0_213', '0_0_214', '0_0_215', '0_0_216', '0_0_218', '0_0_219', '0_0_220', '0_0_222', '0_0_224', '0_0_225', '0_0_226', '0_0_227', '0_0_229', '0_0_230', '0_0_231', '0_0_232', '0_0_233', '0_0_234', '0_0_235', '0_0_236', '0_0_237', '0_1_101', '0_1_102', '0_1_103', '0_1_104', '0_1_105', '0_1_106', '0_1_107', '0_1_108', '0_1_109', '0_1_110', '0_1_111', '0_1_112', '0_1_113', '0_1_114', '0_1_115', '0_1_116', '0_1_117', '0_1_118', '0_1_119', '0_1_120', '0_1_121', '0_1_122', '0_1_123', '0_1_124', '0_1_125', '0_1_126', '0_1_127', '0_1_128', '0_1_129', '0_1_130', '0_1_136', '0_1_137', '0_1_138', '0_1_201', '0_1_202', '0_1_203', '0_1_204', '0_1_205', '0_1_206', '0_1_207', '0_1_208', '0_1_209', '0_1_210', '0_1_211', '0_1_212', '0_1_213', '0_1_214', '0_1_215', '0_1_216', '0_1_217', '0_1_218', '0_1_219', '0_1_220', '0_1_221', '0_1_222', '0_1_223', '0_1_224', '0_1_225', '0_1_226', '0_1_227', '0_1_228', '0_1_229', '0_1_230', '0_1_233', '0_1_234', '0_1_235', '0_2_101', '0_2_102', '0_2_103', '0_2_104', '0_2_105', '0_2_106', '0_2_107', '0_2_108', '0_2_109', '0_2_110', '0_2_111', '0_2_112', '0_2_113', '0_2_114', '0_2_115', '0_2_117', '0_2_118', '0_2_119', '0_2_120', '0_2_121', '0_2_122', '0_2_123', '0_2_124', '0_2_125', '0_2_126', '0_2_127', '0_2_128', '0_2_129', '0_2_130', '0_2_132', '0_2_133', '0_2_134', '0_2_138', '0_2_139', '0_2_140', '0_2_201', '0_2_202', '0_2_203', '0_2_204', '0_2_205', '0_2_206', '0_2_207', '0_2_208', '0_2_209', '0_2_210', '0_2_211', '0_2_212', '0_2_213', '0_2_214', '0_2_216', '0_2_217', '0_2_218', '0_2_219', '0_2_220', '0_2_221', '0_2_222', '0_2_223', '0_2_224', '0_2_225', '0_2_226', '0_2_227', '0_2_228', '0_2_229', '0_2_230', '0_2_231', '0_2_234', '0_2_235', '0_2_241', '0_3_101', '0_3_102', '0_3_103', '0_3_104', '0_3_105', '0_3_106', '0_3_107', '0_3_108', '0_3_109', '0_3_110', '0_3_111', '0_3_112', '0_3_113', '0_3_114', '0_3_115', '0_3_116', '0_3_117', '0_3_118', '0_3_119', '0_3_120', '0_3_121', '0_3_122', '0_3_123', '0_3_124', '0_3_125', '0_3_126', '0_3_127', '0_3_128', '0_3_129', '0_3_130', '0_3_131', '0_3_135', '0_3_136', '0_3_137', '0_3_201', '0_3_202', '0_3_203', '0_3_204', '0_3_205', '0_3_206', '0_3_207', '0_3_208', '0_3_209', '0_3_210', '0_3_211', '0_3_212', '0_3_213', '0_3_214', '0_3_215', '0_3_216', '0_3_217', '0_3_218', '0_3_219', '0_3_220', '0_3_221', '0_3_222', '0_3_223', '0_3_224', '0_3_225', '0_3_226', '0_3_227', '0_3_228', '0_3_229', '0_3_230', '0_3_231', '0_3_234', '0_3_235', '0_3_236', '1_0_1', '1_0_10', '1_0_107', '1_0_108', '1_0_110', '1_0_111', '1_0_112', '1_0_113', '1_0_114', '1_0_115', '1_0_116', '1_0_117', '1_0_118', '1_0_119', '1_0_121', '1_0_122', '1_0_15', '1_0_16', '1_0_202', '1_0_203', '1_0_213', '1_0_216', '1_0_217', '1_0_218', '1_0_219', '1_0_220', '1_0_222', '1_0_224', '1_0_225', '1_0_226', '1_0_227', '1_0_228', '1_0_229', '1_0_230', '1_0_231', '1_0_235', '1_0_237', '1_0_238', '1_0_239', '1_0_243', '1_0_244', '1_0_245', '1_0_246', '1_0_247', '1_0_248', '1_0_249', '1_0_3', '1_0_6', '1_0_9', '1_1_101', '1_1_102', '1_1_103', '1_1_104', '1_1_105', '1_1_106', '1_1_107', '1_1_108', '1_1_109', '1_1_110', '1_1_111', '1_1_117', '1_1_12', '1_1_13', '1_1_16', '1_1_17', '1_1_2', '1_1_201', '1_1_202', '1_1_203', '1_1_204', '1_1_205', '1_1_206', '1_1_207', '1_1_208', '1_1_209', '1_1_210', '1_1_215', '1_1_25', '1_1_26', '1_1_27', '1_1_3', '1_1_30', '1_1_4', '1_1_5', '1_1_6', '1_1_7', '1_1_8', '1_2_10', '1_2_101', '1_2_102', '1_2_103', '1_2_104', '1_2_105', '1_2_106', '1_2_107', '1_2_108', '1_2_109', '1_2_110', '1_2_111', '1_2_112', '1_2_117', '1_2_15', '1_2_16', '1_2_17', '1_2_18', '1_2_2', '1_2_201', '1_2_202', '1_2_203', '1_2_204', '1_2_205', '1_2_206', '1_2_207', '1_2_208', '1_2_209', '1_2_210', '1_2_211', '1_2_212', '1_2_216', '1_2_217', '1_2_22', '1_2_26', '1_2_27', '1_2_28', '1_2_29', '1_2_3', '1_2_4', '1_2_5', '1_2_6', '1_2_7', '1_2_8', '1_2_9', '1_3_1', '1_3_101', '1_3_102', '1_3_103', '1_3_104', '1_3_105', '1_3_106', '1_3_107', '1_3_108', '1_3_11', '1_3_112', '1_3_113', '1_3_116', '1_3_12', '1_3_13', '1_3_14', '1_3_2', '1_3_201', '1_3_202', '1_3_203', '1_3_204', '1_3_205', '1_3_206', '1_3_214', '1_3_216', '1_3_217', '1_3_3', '1_3_4', '1_3_5', '1_3_6', '2_0_101', '2_0_103', '2_0_104', '2_0_106', '2_0_107', '2_0_108', '2_0_110', '2_0_111', '2_0_112', '2_0_113', '2_0_117', '2_0_118', '2_0_119', '2_0_120', '2_0_121', '2_0_122', '2_0_124', '2_0_125', '2_0_126', '2_0_127', '2_0_128', '2_0_129', '2_0_130', '2_0_132', '2_0_133', '2_0_134', '2_0_135', '2_0_136', '2_0_137', '2_0_138', '2_0_139', '2_0_140', '2_0_201', '2_0_202', '2_0_203', '2_0_204', '2_0_205', '2_0_206', '2_0_207', '2_0_208', '2_0_209', '2_0_211', '2_0_214', '2_0_215', '2_1_101', '2_1_102', '2_1_103', '2_1_104', '2_1_105', '2_1_106', '2_1_107', '2_1_108', '2_1_109', '2_1_110', '2_1_111', '2_1_112', '2_1_113', '2_1_114', '2_1_115', '2_1_116', '2_1_117', '2_1_118', '2_1_119', '2_1_120', '2_1_121', '2_1_122', '2_1_123', '2_1_124', '2_1_125', '2_1_126', '2_1_127', '2_1_128', '2_1_129', '2_1_130', '2_1_131', '2_1_132', '2_1_133', '2_1_134', '2_1_135', '2_1_136', '2_1_137', '2_1_140', '2_1_141', '2_1_143', '2_1_201', '2_1_202', '2_1_203', '2_1_204', '2_1_205', '2_1_206', '2_1_207', '2_1_209', '2_1_212', '2_1_214', '2_1_215', '2_1_216', '2_1_217', '2_1_218', '2_1_219', '2_1_220', '2_1_221', '2_1_223', '2_1_224', '2_1_225', '2_2_101', '2_2_102', '2_2_103', '2_2_104', '2_2_105', '2_2_106', '2_2_107', '2_2_108', '2_2_109', '2_2_110', '2_2_111', '2_2_112', '2_2_113', '2_2_114', '2_2_115', '2_2_116', '2_2_117', '2_2_118', '2_2_119', '2_2_120', '2_2_121', '2_2_122', '2_2_123', '2_2_124', '2_2_125', '2_2_126', '2_2_127', '2_2_128', '2_2_129', '2_2_130', '2_2_131', '2_2_132', '2_2_133', '2_2_134', '2_2_135', '2_2_136', '2_2_137', '2_2_138', '2_2_139', '2_2_140', '2_2_143', '2_2_144', '2_2_201', '2_2_202', '2_2_203', '2_2_204', '2_2_205', '2_2_206', '2_2_207', '2_2_208', '2_2_209', '2_2_210', '2_2_211', '2_2_213', '2_2_214', '2_2_217', '2_2_220', '2_3_101', '2_3_102', '2_3_103', '2_3_104', '2_3_105', '2_3_106', '2_3_107', '2_3_108', '2_3_109', '2_3_110', '2_3_111', '2_3_112', '2_3_113', '2_3_114', '2_3_115', '2_3_116', '2_3_117', '2_3_118', '2_3_119', '2_3_120', '2_3_121', '2_3_122', '2_3_123', '2_3_124', '2_3_125', '2_3_126', '2_3_127', '2_3_128', '2_3_129', '2_3_130', '2_3_131', '2_3_132', '2_3_133', '2_3_134', '2_3_135', '2_3_136', '2_3_137', '2_3_140', '2_3_141', '2_3_143', '2_3_201', '2_3_202', '2_3_203', '2_3_204', '2_3_205', '2_3_206', '2_3_207', '2_3_208', '2_3_209', '2_3_210', '2_3_211', '2_3_212', '2_3_213', '2_3_214', '2_3_215', '2_3_216', '2_3_217', '2_3_218', '2_3_219', '2_3_220', '2_3_221', '2_3_222', '2_3_223', '2_3_224', '2_3_225', '2_3_226', '2_3_227', '2_3_228', '2_3_229', '2_3_230', '2_3_231', '2_3_232', '2_3_233', '2_3_234', '2_3_235', '2_3_236', '2_3_237', '2_3_238', '2_3_239', '2_3_240', '2_3_241', '2_3_242', '2_3_243', '2_3_244', '2_3_245', '2_3_246', '2_3_247', '2_3_248', '2_3_250', '2_3_253', '2_3_254', '2_4_101', '2_4_102', '2_4_103', '2_4_104', '2_4_105', '2_4_106', '2_4_107', '2_4_108', '2_4_109', '2_4_110', '2_4_111', '2_4_112', '2_4_113', '2_4_114', '2_4_115', '2_4_116', '2_4_117', '2_4_118', '2_4_119', '2_4_120', '2_4_121', '2_4_122', '2_4_123', '2_4_124', '2_4_125', '2_4_126', '2_4_127', '2_4_128', '2_4_129', '2_4_130', '2_4_131', '2_4_132', '2_4_133', '2_4_134', '2_4_135', '2_4_136', '2_4_137', '2_4_138', '2_4_139', '2_4_140', '2_4_141', '2_4_142', '2_4_143', '2_4_146', '2_4_147', '2_4_201', '2_4_202', '2_4_203', '2_4_204', '2_4_205', '2_4_206', '2_4_207', '2_4_208', '2_4_209', '2_4_210', '2_4_211', '2_4_212', '2_4_213', '2_4_214', '2_4_215', '2_4_216', '2_4_217', '2_4_218', '2_4_219', '2_4_220' 
    ## 
    ## No pre-processing
    ## Resampling: Cross-Validated (10 fold, repeated 1 times) 
    ## Summary of sample sizes: 13615, 13613, 13597, 13637, 13630, 13644, ... 
    ## Resampling results across tuning parameters:
    ## 
    ##   usekernel  Accuracy   Kappa    
    ##   FALSE      0.2031947  0.2022349
    ##    TRUE      0.1532283  0.1489460
    ## 
    ## Tuning parameter 'laplace' was held constant at a value of 0
    ## 
    ## Tuning parameter 'adjust' was held constant at a value of 1
    ## Accuracy was used to select the optimal model using the largest value.
    ## The final values used for the model were laplace = 0, usekernel =
    ##  FALSE and adjust = 1.

``` r
rfFit1 <- train(LOCATION~., data = training, method = "rf", trControl=fitControl, tuneLength=1)
rfFit1
```

    ## Random Forest 
    ## 
    ## 15138 samples
    ##   467 predictor
    ##   735 classes: '0_0_102', '0_0_106', '0_0_107', '0_0_110', '0_0_111', '0_0_112', '0_0_113', '0_0_114', '0_0_115', '0_0_116', '0_0_117', '0_0_118', '0_0_119', '0_0_120', '0_0_121', '0_0_122', '0_0_123', '0_0_125', '0_0_126', '0_0_127', '0_0_128', '0_0_129', '0_0_130', '0_0_131', '0_0_132', '0_0_133', '0_0_134', '0_0_201', '0_0_202', '0_0_208', '0_0_209', '0_0_211', '0_0_212', '0_0_213', '0_0_214', '0_0_215', '0_0_216', '0_0_218', '0_0_219', '0_0_220', '0_0_222', '0_0_224', '0_0_225', '0_0_226', '0_0_227', '0_0_229', '0_0_230', '0_0_231', '0_0_232', '0_0_233', '0_0_234', '0_0_235', '0_0_236', '0_0_237', '0_1_101', '0_1_102', '0_1_103', '0_1_104', '0_1_105', '0_1_106', '0_1_107', '0_1_108', '0_1_109', '0_1_110', '0_1_111', '0_1_112', '0_1_113', '0_1_114', '0_1_115', '0_1_116', '0_1_117', '0_1_118', '0_1_119', '0_1_120', '0_1_121', '0_1_122', '0_1_123', '0_1_124', '0_1_125', '0_1_126', '0_1_127', '0_1_128', '0_1_129', '0_1_130', '0_1_136', '0_1_137', '0_1_138', '0_1_201', '0_1_202', '0_1_203', '0_1_204', '0_1_205', '0_1_206', '0_1_207', '0_1_208', '0_1_209', '0_1_210', '0_1_211', '0_1_212', '0_1_213', '0_1_214', '0_1_215', '0_1_216', '0_1_217', '0_1_218', '0_1_219', '0_1_220', '0_1_221', '0_1_222', '0_1_223', '0_1_224', '0_1_225', '0_1_226', '0_1_227', '0_1_228', '0_1_229', '0_1_230', '0_1_233', '0_1_234', '0_1_235', '0_2_101', '0_2_102', '0_2_103', '0_2_104', '0_2_105', '0_2_106', '0_2_107', '0_2_108', '0_2_109', '0_2_110', '0_2_111', '0_2_112', '0_2_113', '0_2_114', '0_2_115', '0_2_117', '0_2_118', '0_2_119', '0_2_120', '0_2_121', '0_2_122', '0_2_123', '0_2_124', '0_2_125', '0_2_126', '0_2_127', '0_2_128', '0_2_129', '0_2_130', '0_2_132', '0_2_133', '0_2_134', '0_2_138', '0_2_139', '0_2_140', '0_2_201', '0_2_202', '0_2_203', '0_2_204', '0_2_205', '0_2_206', '0_2_207', '0_2_208', '0_2_209', '0_2_210', '0_2_211', '0_2_212', '0_2_213', '0_2_214', '0_2_216', '0_2_217', '0_2_218', '0_2_219', '0_2_220', '0_2_221', '0_2_222', '0_2_223', '0_2_224', '0_2_225', '0_2_226', '0_2_227', '0_2_228', '0_2_229', '0_2_230', '0_2_231', '0_2_234', '0_2_235', '0_2_241', '0_3_101', '0_3_102', '0_3_103', '0_3_104', '0_3_105', '0_3_106', '0_3_107', '0_3_108', '0_3_109', '0_3_110', '0_3_111', '0_3_112', '0_3_113', '0_3_114', '0_3_115', '0_3_116', '0_3_117', '0_3_118', '0_3_119', '0_3_120', '0_3_121', '0_3_122', '0_3_123', '0_3_124', '0_3_125', '0_3_126', '0_3_127', '0_3_128', '0_3_129', '0_3_130', '0_3_131', '0_3_135', '0_3_136', '0_3_137', '0_3_201', '0_3_202', '0_3_203', '0_3_204', '0_3_205', '0_3_206', '0_3_207', '0_3_208', '0_3_209', '0_3_210', '0_3_211', '0_3_212', '0_3_213', '0_3_214', '0_3_215', '0_3_216', '0_3_217', '0_3_218', '0_3_219', '0_3_220', '0_3_221', '0_3_222', '0_3_223', '0_3_224', '0_3_225', '0_3_226', '0_3_227', '0_3_228', '0_3_229', '0_3_230', '0_3_231', '0_3_234', '0_3_235', '0_3_236', '1_0_1', '1_0_10', '1_0_107', '1_0_108', '1_0_110', '1_0_111', '1_0_112', '1_0_113', '1_0_114', '1_0_115', '1_0_116', '1_0_117', '1_0_118', '1_0_119', '1_0_121', '1_0_122', '1_0_15', '1_0_16', '1_0_202', '1_0_203', '1_0_213', '1_0_216', '1_0_217', '1_0_218', '1_0_219', '1_0_220', '1_0_222', '1_0_224', '1_0_225', '1_0_226', '1_0_227', '1_0_228', '1_0_229', '1_0_230', '1_0_231', '1_0_235', '1_0_237', '1_0_238', '1_0_239', '1_0_243', '1_0_244', '1_0_245', '1_0_246', '1_0_247', '1_0_248', '1_0_249', '1_0_3', '1_0_6', '1_0_9', '1_1_101', '1_1_102', '1_1_103', '1_1_104', '1_1_105', '1_1_106', '1_1_107', '1_1_108', '1_1_109', '1_1_110', '1_1_111', '1_1_117', '1_1_12', '1_1_13', '1_1_16', '1_1_17', '1_1_2', '1_1_201', '1_1_202', '1_1_203', '1_1_204', '1_1_205', '1_1_206', '1_1_207', '1_1_208', '1_1_209', '1_1_210', '1_1_215', '1_1_25', '1_1_26', '1_1_27', '1_1_3', '1_1_30', '1_1_4', '1_1_5', '1_1_6', '1_1_7', '1_1_8', '1_2_10', '1_2_101', '1_2_102', '1_2_103', '1_2_104', '1_2_105', '1_2_106', '1_2_107', '1_2_108', '1_2_109', '1_2_110', '1_2_111', '1_2_112', '1_2_117', '1_2_15', '1_2_16', '1_2_17', '1_2_18', '1_2_2', '1_2_201', '1_2_202', '1_2_203', '1_2_204', '1_2_205', '1_2_206', '1_2_207', '1_2_208', '1_2_209', '1_2_210', '1_2_211', '1_2_212', '1_2_216', '1_2_217', '1_2_22', '1_2_26', '1_2_27', '1_2_28', '1_2_29', '1_2_3', '1_2_4', '1_2_5', '1_2_6', '1_2_7', '1_2_8', '1_2_9', '1_3_1', '1_3_101', '1_3_102', '1_3_103', '1_3_104', '1_3_105', '1_3_106', '1_3_107', '1_3_108', '1_3_11', '1_3_112', '1_3_113', '1_3_116', '1_3_12', '1_3_13', '1_3_14', '1_3_2', '1_3_201', '1_3_202', '1_3_203', '1_3_204', '1_3_205', '1_3_206', '1_3_214', '1_3_216', '1_3_217', '1_3_3', '1_3_4', '1_3_5', '1_3_6', '2_0_101', '2_0_103', '2_0_104', '2_0_106', '2_0_107', '2_0_108', '2_0_110', '2_0_111', '2_0_112', '2_0_113', '2_0_117', '2_0_118', '2_0_119', '2_0_120', '2_0_121', '2_0_122', '2_0_124', '2_0_125', '2_0_126', '2_0_127', '2_0_128', '2_0_129', '2_0_130', '2_0_132', '2_0_133', '2_0_134', '2_0_135', '2_0_136', '2_0_137', '2_0_138', '2_0_139', '2_0_140', '2_0_201', '2_0_202', '2_0_203', '2_0_204', '2_0_205', '2_0_206', '2_0_207', '2_0_208', '2_0_209', '2_0_211', '2_0_214', '2_0_215', '2_1_101', '2_1_102', '2_1_103', '2_1_104', '2_1_105', '2_1_106', '2_1_107', '2_1_108', '2_1_109', '2_1_110', '2_1_111', '2_1_112', '2_1_113', '2_1_114', '2_1_115', '2_1_116', '2_1_117', '2_1_118', '2_1_119', '2_1_120', '2_1_121', '2_1_122', '2_1_123', '2_1_124', '2_1_125', '2_1_126', '2_1_127', '2_1_128', '2_1_129', '2_1_130', '2_1_131', '2_1_132', '2_1_133', '2_1_134', '2_1_135', '2_1_136', '2_1_137', '2_1_140', '2_1_141', '2_1_143', '2_1_201', '2_1_202', '2_1_203', '2_1_204', '2_1_205', '2_1_206', '2_1_207', '2_1_209', '2_1_212', '2_1_214', '2_1_215', '2_1_216', '2_1_217', '2_1_218', '2_1_219', '2_1_220', '2_1_221', '2_1_223', '2_1_224', '2_1_225', '2_2_101', '2_2_102', '2_2_103', '2_2_104', '2_2_105', '2_2_106', '2_2_107', '2_2_108', '2_2_109', '2_2_110', '2_2_111', '2_2_112', '2_2_113', '2_2_114', '2_2_115', '2_2_116', '2_2_117', '2_2_118', '2_2_119', '2_2_120', '2_2_121', '2_2_122', '2_2_123', '2_2_124', '2_2_125', '2_2_126', '2_2_127', '2_2_128', '2_2_129', '2_2_130', '2_2_131', '2_2_132', '2_2_133', '2_2_134', '2_2_135', '2_2_136', '2_2_137', '2_2_138', '2_2_139', '2_2_140', '2_2_143', '2_2_144', '2_2_201', '2_2_202', '2_2_203', '2_2_204', '2_2_205', '2_2_206', '2_2_207', '2_2_208', '2_2_209', '2_2_210', '2_2_211', '2_2_213', '2_2_214', '2_2_217', '2_2_220', '2_3_101', '2_3_102', '2_3_103', '2_3_104', '2_3_105', '2_3_106', '2_3_107', '2_3_108', '2_3_109', '2_3_110', '2_3_111', '2_3_112', '2_3_113', '2_3_114', '2_3_115', '2_3_116', '2_3_117', '2_3_118', '2_3_119', '2_3_120', '2_3_121', '2_3_122', '2_3_123', '2_3_124', '2_3_125', '2_3_126', '2_3_127', '2_3_128', '2_3_129', '2_3_130', '2_3_131', '2_3_132', '2_3_133', '2_3_134', '2_3_135', '2_3_136', '2_3_137', '2_3_140', '2_3_141', '2_3_143', '2_3_201', '2_3_202', '2_3_203', '2_3_204', '2_3_205', '2_3_206', '2_3_207', '2_3_208', '2_3_209', '2_3_210', '2_3_211', '2_3_212', '2_3_213', '2_3_214', '2_3_215', '2_3_216', '2_3_217', '2_3_218', '2_3_219', '2_3_220', '2_3_221', '2_3_222', '2_3_223', '2_3_224', '2_3_225', '2_3_226', '2_3_227', '2_3_228', '2_3_229', '2_3_230', '2_3_231', '2_3_232', '2_3_233', '2_3_234', '2_3_235', '2_3_236', '2_3_237', '2_3_238', '2_3_239', '2_3_240', '2_3_241', '2_3_242', '2_3_243', '2_3_244', '2_3_245', '2_3_246', '2_3_247', '2_3_248', '2_3_250', '2_3_253', '2_3_254', '2_4_101', '2_4_102', '2_4_103', '2_4_104', '2_4_105', '2_4_106', '2_4_107', '2_4_108', '2_4_109', '2_4_110', '2_4_111', '2_4_112', '2_4_113', '2_4_114', '2_4_115', '2_4_116', '2_4_117', '2_4_118', '2_4_119', '2_4_120', '2_4_121', '2_4_122', '2_4_123', '2_4_124', '2_4_125', '2_4_126', '2_4_127', '2_4_128', '2_4_129', '2_4_130', '2_4_131', '2_4_132', '2_4_133', '2_4_134', '2_4_135', '2_4_136', '2_4_137', '2_4_138', '2_4_139', '2_4_140', '2_4_141', '2_4_142', '2_4_143', '2_4_146', '2_4_147', '2_4_201', '2_4_202', '2_4_203', '2_4_204', '2_4_205', '2_4_206', '2_4_207', '2_4_208', '2_4_209', '2_4_210', '2_4_211', '2_4_212', '2_4_213', '2_4_214', '2_4_215', '2_4_216', '2_4_217', '2_4_218', '2_4_219', '2_4_220' 
    ## 
    ## No pre-processing
    ## Resampling: Cross-Validated (10 fold, repeated 1 times) 
    ## Summary of sample sizes: 13638, 13617, 13619, 13627, 13622, 13607, ... 
    ## Resampling results:
    ## 
    ##   Accuracy   Kappa    
    ##   0.9951764  0.9951673
    ## 
    ## Tuning parameter 'mtry' was held constant at a value of 155

``` r
## Compare all models using resampling
ModelData <- resamples(list(KNN = knnFitr1, NB = nbFit1, RF = rfFit1))
summary(ModelData)
```

    ## 
    ## Call:
    ## summary.resamples(object = ModelData)
    ## 
    ## Models: KNN, NB, RF 
    ## Number of resamples: 10 
    ## 
    ## Accuracy 
    ##          Min.   1st Qu.    Median      Mean   3rd Qu.      Max. NA's
    ## KNN 0.6754967 0.6859623 0.6937884 0.6922495 0.6992450 0.7023411    0
    ## NB  0.1881967 0.2010530 0.2031737 0.2031947 0.2051147 0.2181698    2
    ## RF  0.9921620 0.9946658 0.9950428 0.9951764 0.9965288 0.9967384    0
    ## 
    ## Kappa 
    ##          Min.   1st Qu.    Median      Mean   3rd Qu.      Max. NA's
    ## KNN 0.6748841 0.6853781 0.6932098 0.6916700 0.6986800 0.7017761    0
    ## NB  0.1874169 0.2000865 0.2021585 0.2022349 0.2041148 0.2172242    2
    ## RF  0.9921471 0.9946556 0.9950334 0.9951673 0.9965222 0.9967322    0

The random forest model generates a high accuracy and kappa value. Using this model indoor locationing can be achieved with confidence.
